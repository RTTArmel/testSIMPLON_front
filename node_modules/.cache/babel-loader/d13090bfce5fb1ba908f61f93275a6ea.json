{"ast":null,"code":"import axios from 'axios';\nconst initialState = {\n  client: [{\n    nom: '',\n    email: '',\n    password: '',\n    pwd: ''\n  }]\n};\n\nfunction connexion(state = initialState, action) {\n  let nextState = [0];\n\n  switch (action.type) {\n    //postAdmin 8080\n    case 'REGISTER':\n      console.log(\"action: \", action.value); //axios.post('https://shrouded-shore-94366.herokuapp.com/', action.value)\n\n      axios.post('http://localhost:8080/register', action.value).then(response => {\n        console.log(\"post ok: res.data \", response.data);\n        localStorage.setItem('login', response.data.nom);\n        console.log('reducer REGISTER: ', localStorage.getItem('login'));\n      }).catch(error => {\n        console.log(\"erreur be: \", error);\n      });\n      break;\n    //postLogin 8080\n\n    case 'LOGIN':\n      console.log(\"action: \", action.value); //axios.post('https://shrouded-shore-94366.herokuapp.com/', action.value)\n\n      axios.post('http://localhost:8080/login', action.value).then(response => {\n        console.log(\"post ok: res.data \", response);\n\n        if (response.data == \"ok\") {\n          localStorage.setItem('login', true);\n          console.log('reducer LOGIN: ', localStorage.getItem('login'));\n        }\n      }).catch(error => {\n        console.log(\"erreur be: \", error);\n      });\n      break;\n\n    case 'DECONNECT':\n      console.log('reducer DECONNECT: ', localStorage.getItem('login'));\n      return localStorage.setItem('login', false);\n\n    case 'GETARTICLE':\n      //axios.get('https://shrouded-shore-94366.herokuapp.com/')\n      axios.get('http://localhost:8080/').then(function (response) {\n        nextState = response.data;\n        console.log(\"ttt\", nextState);\n        return nextState;\n      }).catch(function (error) {\n        console.log(error);\n      });\n      break;\n\n    default:\n      return state;\n  }\n}\n\nexport default connexion;","map":{"version":3,"sources":["/home/dev/Bureau/PrÃ©-testSIMPLON/pre-test_front/src/store/reducer/reducer_admin.js"],"names":["axios","initialState","client","nom","email","password","pwd","connexion","state","action","nextState","type","console","log","value","post","then","response","data","localStorage","setItem","getItem","catch","error","get"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,CAAC;AACPC,IAAAA,GAAG,EAAE,EADE;AAEPC,IAAAA,KAAK,EAAE,EAFA;AAGPC,IAAAA,QAAQ,EAAE,EAHH;AAIPC,IAAAA,GAAG,EAAE;AAJE,GAAD;AADW,CAArB;;AASA,SAASC,SAAT,CAAmBC,KAAK,GAAGP,YAA3B,EAAyCQ,MAAzC,EAAiD;AAC/C,MAAIC,SAAS,GAAG,CAAC,CAAD,CAAhB;;AACA,UAAQD,MAAM,CAACE,IAAf;AAEE;AACA,SAAK,UAAL;AACEC,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,MAAM,CAACK,KAA/B,EADF,CAEE;;AACAd,MAAAA,KAAK,CAACe,IAAN,CAAW,gCAAX,EAA6CN,MAAM,CAACK,KAApD,EACGE,IADH,CACSC,QAAD,IAAc;AAClBL,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCI,QAAQ,CAACC,IAA3C;AACAC,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BH,QAAQ,CAACC,IAAT,CAAcf,GAA5C;AACAS,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCM,YAAY,CAACE,OAAb,CAAqB,OAArB,CAAlC;AACD,OALH,EAMGC,KANH,CAMUC,KAAD,IAAW;AAChBX,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BU,KAA3B;AACD,OARH;AASA;AACF;;AACA,SAAK,OAAL;AACEX,MAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ,EAAwBJ,MAAM,CAACK,KAA/B,EADF,CAEE;;AACAd,MAAAA,KAAK,CAACe,IAAN,CAAW,6BAAX,EAA0CN,MAAM,CAACK,KAAjD,EACGE,IADH,CACSC,QAAD,IAAc;AAClBL,QAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCI,QAAlC;;AACA,YAAIA,QAAQ,CAACC,IAAT,IAAiB,IAArB,EAA2B;AACzBC,UAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,IAA9B;AACAR,UAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+BM,YAAY,CAACE,OAAb,CAAqB,OAArB,CAA/B;AACD;AACF,OAPH,EAQGC,KARH,CAQUC,KAAD,IAAW;AAChBX,QAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BU,KAA3B;AACD,OAVH;AAWA;;AAEF,SAAK,WAAL;AACEX,MAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ,EAAmCM,YAAY,CAACE,OAAb,CAAqB,OAArB,CAAnC;AACA,aAAOF,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8B,KAA9B,CAAP;;AAGF,SAAK,YAAL;AACE;AACApB,MAAAA,KAAK,CAACwB,GAAN,CAAU,wBAAV,EACGR,IADH,CACQ,UAAUC,QAAV,EAAoB;AACxBP,QAAAA,SAAS,GAAGO,QAAQ,CAACC,IAArB;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBH,SAAnB;AACA,eAAOA,SAAP;AACD,OALH,EAMGY,KANH,CAMS,UAAUC,KAAV,EAAiB;AAEtBX,QAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACD,OATH;AAUA;;AAEF;AACE,aAAOf,KAAP;AArDJ;AAuDD;;AAED,eAAeD,SAAf","sourcesContent":["import axios from 'axios'\n\nconst initialState = {\n  client: [{\n    nom: '',\n    email: '',\n    password: '',\n    pwd: ''\n  }]\n}\n\nfunction connexion(state = initialState, action) {\n  let nextState = [0]\n  switch (action.type) {\n\n    //postAdmin 8080\n    case 'REGISTER':\n      console.log(\"action: \", action.value);\n      //axios.post('https://shrouded-shore-94366.herokuapp.com/', action.value)\n      axios.post('http://localhost:8080/register', action.value)\n        .then((response) => {\n          console.log(\"post ok: res.data \", response.data);\n          localStorage.setItem('login', response.data.nom)\n          console.log('reducer REGISTER: ', localStorage.getItem('login'));\n        })\n        .catch((error) => {\n          console.log(\"erreur be: \", error);\n        });\n      break;\n    //postLogin 8080\n    case 'LOGIN':\n      console.log(\"action: \", action.value);\n      //axios.post('https://shrouded-shore-94366.herokuapp.com/', action.value)\n      axios.post('http://localhost:8080/login', action.value)\n        .then((response) => {\n          console.log(\"post ok: res.data \", response);\n          if (response.data == \"ok\") {\n            localStorage.setItem('login', true)\n            console.log('reducer LOGIN: ', localStorage.getItem('login'));\n          }\n        })\n        .catch((error) => {\n          console.log(\"erreur be: \", error);\n        });\n      break;\n\n    case 'DECONNECT':\n      console.log('reducer DECONNECT: ', localStorage.getItem('login'));\n      return localStorage.setItem('login', false)\n    \n\n    case 'GETARTICLE':\n      //axios.get('https://shrouded-shore-94366.herokuapp.com/')\n      axios.get('http://localhost:8080/')\n        .then(function (response) {\n          nextState = response.data\n          console.log(\"ttt\", nextState);\n          return nextState\n        })\n        .catch(function (error) {\n\n          console.log(error);\n        })\n      break;\n\n    default:\n      return state\n  }\n}\n\nexport default connexion"]},"metadata":{},"sourceType":"module"}
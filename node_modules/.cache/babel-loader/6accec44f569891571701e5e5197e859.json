{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/EXAMEN/testSIMPLON_front/src/components/article.jsx\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\n\nimport './article.css';\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nclass Article extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.state = {\n      titre: '',\n      description: '',\n      prix: '',\n      image: \"\",\n      image1: \"\",\n      image2: \"\",\n      comment: [],\n      modal: false\n    };\n  }\n\n  handleChange(e) {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  }\n\n  update(e) {\n    console.log('local login: ', localStorage.getItem('login'));\n    const action = {\n      type: \"LOGIN\",\n      value: e\n    };\n    this.props.dispatch(action);\n  }\n\n  componentDidMount() {\n    var tab = [];\n    console.log('props: ', this.props);\n    axios.get(\"https://tsiorytahback.herokuapp.com/profil\").then(res => {\n      // axios.get(\"http://localhost:8080/profil\").then(res => {\n      console.log('res comment: ', res.data);\n\n      for (let i = 0; i < res.data.length; i++) {\n        if (localStorage.getItem('id') == res.data[i].utilisateur) {\n          tab.push(res.data[i]);\n        }\n      }\n\n      this.setState({\n        comment: tab\n      });\n      console.log('comment: ', this.state.comment);\n    });\n  }\n\n  render() {\n    return (// // AJOUT\n      React.createElement(\"center\", {\n        onSubmit: event => {\n          event.preventDefault();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }, React.createElement(\"table\", {\n        className: \"table table-bordered\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, this.state.comment.length > 0 ? this.state.comment.sort((a, b) => {\n        return b._id - a._id;\n      }).map((user, _id) => React.createElement(\"tr\", {\n        key: _id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        id: \"titre\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"card-img-top img-thumbnail image\",\n        src: \"https://tsiorytahback.herokuapp.com/profil/\" + user.image,\n        alt: user.titre,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      })), React.createElement(\"p\", {\n        id: \"prix\",\n        style: {\n          textAlign: \"right\"\n        },\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"Prix: \", user.prix), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }, \"Place dispo: 0/\", user.disponible)), React.createElement(\"td\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"strong\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, user.titre), React.createElement(\"p\", {\n        id: \"description\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos rerum itaque numquam, porro autem at maxime? Nemo porro ipsa tempore voluptas ullam, nam itaque doloremque, distinctio obcaecati eaque cumque quo.\"), React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"btn btn-danger\",\n        onClick: () => {\n          confirmAlert({\n            customUI: ({\n              onClose\n            }) => {\n              return React.createElement(\"center\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 83\n                },\n                __self: this\n              }, React.createElement(\"div\", {\n                className: \"custom-ui\",\n                id: \"popup\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 84\n                },\n                __self: this\n              }, React.createElement(\"table\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 85\n                },\n                __self: this\n              }, React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 86\n                },\n                __self: this\n              }, React.createElement(\"img\", {\n                class: \"card-img-top img-thumbnail sary\",\n                src: \"https://tsiorytahback.herokuapp.com/profil/\" + user.image,\n                alt: user.titre,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 88\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 88\n                },\n                __self: this\n              })), React.createElement(\"td\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 90\n                },\n                __self: this\n              }, React.createElement(\"h6\", {\n                className: \"text-pop\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 91\n                },\n                __self: this\n              }, \"Suppression du Produit: \"), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 91\n                },\n                __self: this\n              }), React.createElement(\"h6\", {\n                className: \"text-pop\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 92\n                },\n                __self: this\n              }, user.titre), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 92\n                },\n                __self: this\n              }))), React.createElement(\"button\", {\n                className: \"btn btn-dark\",\n                onClick: () => {\n                  onClose();\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 95\n                },\n                __self: this\n              }, \"OUI\"), React.createElement(\"a\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 101\n                },\n                __self: this\n              }, \"\\xA0\\xA0\"), React.createElement(\"button\", {\n                className: \"btn btn-dark\",\n                onClick: onClose,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 102\n                },\n                __self: this\n              }, \"NON\")));\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"X\"), React.createElement(\"a\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, \"\\xA0\"), React.createElement(\"button\", {\n        className: \"btn btn-success\",\n        onClick: () => {\n          confirmAlert({\n            customUI: ({\n              onClose\n            }) => {\n              return React.createElement(\"form\", {\n                id: \"ID_FORMULAIRE\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 118\n                },\n                __self: this\n              }, React.createElement(\"center\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 119\n                },\n                __self: this\n              }, React.createElement(\"div\", {\n                className: \"custom-ui\",\n                id: \"popup\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 120\n                },\n                __self: this\n              }, React.createElement(\"input\", {\n                name: \"inputStoreID\",\n                placeholder: user.prix,\n                id: \"entree\",\n                className: \"modif\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 121\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 121\n                },\n                __self: this\n              }), React.createElement(\"p\", {\n                id: \"e\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 122\n                },\n                __self: this\n              }), React.createElement(\"br\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 122\n                },\n                __self: this\n              }), React.createElement(\"button\", {\n                className: \"btn btn-dark\",\n                onClick: e => {\n                  user.prix = document.forms['ID_FORMULAIRE'].elements['inputStoreID'].value; //Affectation du contenu de l'input dans user.prix \n\n                  if (isNaN(user.prix) || user.prix == \"\") {\n                    var valid = \"Entrer un Nombre\";\n                    e.preventDefault();\n                    document.getElementById('e').innerHTML = valid; //Affichage de la variable valid dans le paragraphe e\n                  } else {\n                    valid = \"\";\n                    document.getElementById('e').innerHTML = valid;\n                    onClose();\n                  }\n                },\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 124\n                },\n                __self: this\n              }, \"OK\"), React.createElement(\"a\", {\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 138\n                },\n                __self: this\n              }, \"\\xA0\\xA0\"), React.createElement(\"button\", {\n                className: \"btn btn-dark\",\n                onClick: onClose,\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 140\n                },\n                __self: this\n              }, \"Annuler\"))));\n            }\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, \"Edit\"))))) : React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"td\", {\n        colSpan: 4,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      })))))\n    );\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    listeArticle: state\n  };\n};\n\nexport default connect(mapStateToProps)(Article);","map":{"version":3,"sources":["/home/dev/Bureau/EXAMEN/testSIMPLON_front/src/components/article.jsx"],"names":["React","Component","connect","axios","confirmAlert","Article","constructor","props","toggle","setState","modal","state","titre","description","prix","image","image1","image2","comment","handleChange","e","target","name","value","update","console","log","localStorage","getItem","action","type","dispatch","componentDidMount","tab","get","then","res","data","i","length","utilisateur","push","render","event","preventDefault","sort","a","b","_id","map","user","textAlign","disponible","customUI","onClose","document","forms","elements","isNaN","valid","getElementById","innerHTML","mapStateToProps","listeArticle"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios'\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport './article.css'\nimport 'react-confirm-alert/src/react-confirm-alert.css' // Import css\n\nclass Article extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            titre: '',\n            description: '',\n            prix: '',\n            image: \"\",\n            image1: \"\",\n            image2: \"\",\n            comment: [],\n            modal: false,\n        };\n    }\n\n    handleChange(e) {\n        this.setState({ [e.target.name]: e.target.value })\n    }\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal,\n        });\n    }\n\n    update(e) {\n        console.log('local login: ', localStorage.getItem('login'));\n        const action = { type: \"LOGIN\", value: e }\n        this.props.dispatch(action)\n    }\n\n    componentDidMount() {\n        var tab = []\n        console.log('props: ', this.props)\n        axios.get(\"https://tsiorytahback.herokuapp.com/profil\").then(res => {\n            // axios.get(\"http://localhost:8080/profil\").then(res => {\n                console.log('res comment: ', res.data)\n            for (let i = 0; i < res.data.length; i++) {\n                if (localStorage.getItem('id') == res.data[i].utilisateur) {\n                    tab.push(res.data[i])\n                }\n            }\n            this.setState({ comment: tab })\n            console.log('comment: ', this.state.comment)\n        })\n    }\n\n    render() {\n        return (\n            // // AJOUT\n            <center onSubmit={event => {\n                event.preventDefault()\n            }}>\n                <table className=\"table table-bordered\">\n                    <tbody>\n                        {(this.state.comment.length > 0) ? (\n                            this.state.comment.sort((a, b) => { return b._id - a._id }).map((user, _id) => (\n                                <tr key={_id}>\n                                    <td>\n                                    <p id=\"titre\" onChange={this.handleChange}><img class=\"card-img-top img-thumbnail image\" src={\"https://tsiorytahback.herokuapp.com/profil/\" + user.image} alt={user.titre} /></p>\n                                        {/* <p id=\"titre\" onChange={this.handleChange}><img class=\"card-img-top img-thumbnail image\" src={\"http://localhost:8080/profil/\" + user.image} alt={user.titre} /></p> */}\n                                        <p id=\"prix\" style={{textAlign: \"right\"}} onChange={this.handleChange}>Prix: {user.prix}</p>\n                                        <p>Place dispo: 0/{user.disponible}</p>\n                                    </td>\n                                    <td>\n                                    <strong>{user.titre}</strong>\n                                        <p id=\"description\" onChange={this.handleChange}>Lorem ipsum dolor sit amet consectetur adipisicing elit. Quos rerum itaque numquam, porro autem at maxime? Nemo porro ipsa tempore voluptas ullam, nam itaque doloremque, distinctio obcaecati eaque cumque quo.</p>\n                                        <p>\n                                            {/* SUPPRESSION */}\n                                            <button className=\"btn btn-danger\"\n                                                onClick={() => {\n                                                    confirmAlert({\n                                                        customUI: ({ onClose }) => {\n                                                            return (\n                                                                <center>\n                                                                    <div className=\"custom-ui\" id=\"popup\">\n                                                                        <table>\n                                                                            <td>\n                                                                                {/* <img class=\"card-img-top img-thumbnail sary\" src={\"http://localhost:8080/profil/\" + user.image} alt={user.titre} /><br /> */}\n                                                                                <img class=\"card-img-top img-thumbnail sary\" src={\"https://tsiorytahback.herokuapp.com/profil/\" + user.image} alt={user.titre} /><br />\n                                                                            </td>\n                                                                            <td>\n                                                                                <h6 className=\"text-pop\">Suppression du Produit: </h6><br />\n                                                                                <h6 className=\"text-pop\">{user.titre}</h6><br />\n                                                                            </td>\n                                                                        </table>\n                                                                        <button className=\"btn btn-dark\"\n                                                                            onClick={() => {\n                                                                                onClose();\n                                                                            }}\n                                                                        >\n                                                                            OUI\n                                                            </button><a>&nbsp;&nbsp;</a>\n                                                                        <button className=\"btn btn-dark\" onClick={onClose}>NON</button>\n                                                                    </div>\n                                                                </center>\n                                                            );\n                                                        }\n                                                    })\n                                                }\n                                                }\n                                            >X</button>\n                                            <a>&nbsp;</a>\n                                            {/* MODIFICATION */}\n                                            <button className=\"btn btn-success\"\n                                                onClick={() => {\n                                                    confirmAlert({\n                                                        customUI: ({ onClose }) => {\n                                                            return (\n                                                                <form id='ID_FORMULAIRE'>\n                                                                    <center>\n                                                                        <div className=\"custom-ui\" id=\"popup\">\n                                                                            <input name='inputStoreID' placeholder={user.prix} id=\"entree\" className=\"modif\"></input><br />\n                                                                            <p id=\"e\"></p><br />\n\n                                                                            <button className=\"btn btn-dark\"\n                                                                                onClick={(e) => {\n                                                                                    user.prix = document.forms['ID_FORMULAIRE'].elements['inputStoreID'].value //Affectation du contenu de l'input dans user.prix \n                                                                                    if (isNaN(user.prix) || user.prix == \"\") {\n                                                                                        var valid = \"Entrer un Nombre\"\n                                                                                        e.preventDefault()\n                                                                                        document.getElementById('e').innerHTML = valid; //Affichage de la variable valid dans le paragraphe e\n                                                                                    } else {\n                                                                                        valid = \"\";\n                                                                                        document.getElementById('e').innerHTML = valid;\n                                                                                        onClose();\n                                                                                    }\n                                                                                }\n                                                                                }\n                                                                            >OK</button><a>&nbsp;&nbsp;</a>\n\n                                                                            <button className=\"btn btn-dark\" onClick={onClose}>Annuler</button>\n                                                                        </div>\n                                                                    </center>\n                                                                </form>\n                                                            );\n                                                        }\n                                                    })\n                                                }\n                                                }\n                                            >Edit</button>\n                                        </p>\n                                    </td>\n                                </tr>\n                            ))\n                        ) : (\n                                <tr>\n                                    <td colSpan={4}></td>\n                                </tr>\n                            )}\n                    </tbody>\n                </table>\n            </center>\n\n\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        listeArticle: state\n    }\n}\n\nexport default connect(mapStateToProps)(Article)\n"]},"metadata":{},"sourceType":"module"}
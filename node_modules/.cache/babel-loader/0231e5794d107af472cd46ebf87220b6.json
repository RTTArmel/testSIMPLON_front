{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/Pr\\xE9-testSIMPLON/pre-test_front/src/components/postupload.js\";\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBInput, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\n\nclass PostFrontToBack extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.toggle = () => {\n      this.setState({\n        modal: !this.state.modal\n      });\n    };\n\n    this.state = {\n      titre: '',\n      description: '',\n      prix: '',\n      image: '',\n      modal: false\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleUploadImage = this.handleUploadImage.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n\n  handleUploadImage(ev) {\n    ev.preventDefault();\n    const data = new FormData();\n    data.append('image', this.uploadInput.files[0]);\n    data.append('titre', this.state.titre);\n    data.append('description', this.state.description);\n    data.append('prix', this.state.prix);\n    fetch('http://localhost:8080/profil', {\n      method: 'POST',\n      body: data\n    }).then(response => {\n      response.json().then(body => {\n        this.setState({\n          image: \"http://localhost:8080/profil/\".concat(body.image)\n        });\n        console.log('ity ilay body.fil', body.image);\n      });\n    });\n    this.setState({\n      titre: '',\n      description: '',\n      prix: '',\n      image: ''\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, \" \", React.createElement(MDBContainer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, \"Modal\"), React.createElement(MDBModal, {\n      isOpen: this.state.modal,\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(MDBModalHeader, {\n      toggle: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, \"MDBModal title\"), React.createElement(MDBModalBody, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"(...)\"), React.createElement(MDBModalFooter, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(MDBBtn, {\n      color: \"secondary\",\n      onClick: this.toggle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"Close\"), React.createElement(MDBBtn, {\n      color: \"primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Save changes\")))), React.createElement(\"div\", {\n      class: \"card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      class: \"card-header info-color white-text text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"NOUVEAU PRODUIT\")), React.createElement(\"div\", {\n      class: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      class: \"text\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(MDBInput, {\n      label: \"Nom du Produit\",\n      icon: \"cart-arrow-down\",\n      id: \"un\",\n      type: \"text\",\n      className: \"input black-text\",\n      name: \"titre\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Descriptions\",\n      size: \"lg\",\n      icon: \"pencil-alt\",\n      id: \"ml\",\n      type: \"textarea\",\n      rows: \"3\",\n      className: \"input black-text\",\n      name: \"description\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }), React.createElement(MDBInput, {\n      label: \"Prix\",\n      size: \"lg\",\n      icon: \"hand-holding-usd\",\n      id: \"pw\",\n      type: \"number\",\n      className: \"input black-text\",\n      name: \"prix\",\n      value: this.state.value,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      ref: ref => {\n        this.uploadInput = ref;\n      },\n      type: \"file\",\n      name: \"image\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    })))));\n  }\n\n}\n\nexport default PostFrontToBack;","map":{"version":3,"sources":["/home/dev/Bureau/PrÃ©-testSIMPLON/pre-test_front/src/components/postupload.js"],"names":["React","Component","MDBContainer","MDBInput","MDBBtn","MDBModal","MDBModalBody","MDBModalHeader","MDBModalFooter","PostFrontToBack","constructor","props","toggle","setState","modal","state","titre","description","prix","image","handleChange","bind","handleUploadImage","event","target","name","value","ev","preventDefault","data","FormData","append","uploadInput","files","fetch","method","body","then","response","json","console","log","render","ref"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport { MDBContainer, MDBInput, MDBBtn, MDBModal, MDBModalBody, MDBModalHeader, MDBModalFooter } from 'mdbreact';\n\nclass PostFrontToBack extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            titre: '',\n            description: '',\n            prix: '',\n            image: '',\n            modal: false\n        };\n        this.handleChange = this.handleChange.bind(this)\n        this.handleUploadImage = this.handleUploadImage.bind(this);\n    }\n\n\n    toggle = () => {\n        this.setState({\n            modal: !this.state.modal\n        });\n    }\n\n\n    handleChange(event) {\n        this.setState({\n            [event.target.name]: event.target.value\n        })\n    }\n\n    handleUploadImage(ev) {\n        ev.preventDefault();\n\n        const data = new FormData();\n        data.append('image', this.uploadInput.files[0]);\n        data.append('titre', this.state.titre);\n        data.append('description', this.state.description);\n        data.append('prix', this.state.prix)\n\n        fetch('http://localhost:8080/profil', {\n            method: 'POST',\n            body: data,\n        }).then((response) => {\n            response.json().then((body) => {\n                this.setState({ image: `http://localhost:8080/profil/${body.image}` });\n                console.log('ity ilay body.fil', body.image);\n            });\n        });\n\n        this.setState({\n            titre: '',\n            description: '',\n            prix: '',\n            image: ''\n\n        });\n    }\n\n    render() {\n        return (\n\n            <div> {/* //DEBUT */}\n\n\n\n                <MDBContainer>\n                    <MDBBtn onClick={this.toggle}>Modal</MDBBtn>\n                    <MDBModal isOpen={this.state.modal} toggle={this.toggle}>\n                        <MDBModalHeader toggle={this.toggle}>MDBModal title</MDBModalHeader>\n                        <MDBModalBody>\n                            (...)\n        </MDBModalBody>\n                        <MDBModalFooter>\n                            <MDBBtn color=\"secondary\" onClick={this.toggle}>Close</MDBBtn>\n                            <MDBBtn color=\"primary\">Save changes</MDBBtn>\n                        </MDBModalFooter>\n                    </MDBModal>\n                </MDBContainer>\n\n\n\n                <div class=\"card\">\n\n                    <h5 class=\"card-header info-color white-text text-center\">\n                        <strong>NOUVEAU PRODUIT</strong>\n                    </h5>\n\n                    <div class=\"card-body\">\n\n                        <form class=\"text\">\n\n                            <MDBInput label=\"Nom du Produit\" icon=\"cart-arrow-down\" id=\"un\" type=\"text\" className=\"input black-text\" name=\"titre\" value={this.state.value} onChange={this.handleChange} />\n                            <MDBInput label=\"Descriptions\" size=\"lg\" icon=\"pencil-alt\" id=\"ml\" type=\"textarea\" rows=\"3\" className=\"input black-text\" name=\"description\" value={this.state.value} onChange={this.handleChange} />\n                            <MDBInput label=\"Prix\" size=\"lg\" icon=\"hand-holding-usd\" id=\"pw\" type=\"number\" className=\"input black-text\" name=\"prix\" value={this.state.value} onChange={this.handleChange} />\n                            <input ref={(ref) => { this.uploadInput = ref; }} type=\"file\" name=\"image\" />\n                            {/* <MDBBtn class=\"btn btn-outline-info btn-rounded btn-block my-4 waves-effect z-depth-0\" data-toggle=\"modal\" data-target=\"#modalLoginForm\" type=\"submit\">Publier</MDBBtn> */}\n                        </form>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PostFrontToBack;\n"]},"metadata":{},"sourceType":"module"}
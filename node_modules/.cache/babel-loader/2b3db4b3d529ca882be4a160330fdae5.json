{"ast":null,"code":"var _jsxFileName = \"/home/dev/Bureau/Pr\\xE9-testSIMPLON/pre-test_front/src/components/article.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport axios from 'axios';\n\nclass Article extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      reponse: \"\",\n      comment: []\n    };\n  }\n  /*    callAPI() {\n         fetch(\"http://localhost:8080/profil\")\n             .then(res => res.json())\n             .then(res =>{  \n                 console.log(\"res\",res);\n                 this.setState({comment: res})\n                 console.log('comment: ', this.state.comment);\n            \n            for(let i=0;i<res.length;i++){\n                     if(res[i]._id===this.props.match.params.id){\n                         console.log(res[i]);\n                         this.setState({ reponse: res[i],\n                             comment:res[i].comment\n                          })\n                         console.log(\"state \",this.state.comment);\n                     }\n                 }\n                 \n                });\n             \n     }\n  */\n\n\n  componentDidMount() {\n    var tab = [];\n    console.log(this.props);\n    axios.get(\"http://localhost:8080/profil\").then(res => {\n      console.log('res comment: ', res.data);\n\n      for (let i = 0; i <= res.data.length; i++) {\n        if (localStorage.getItem('id') == res.data.utilisateur) {\n          tab.push(res.data[i]);\n        }\n      }\n\n      this.setState({\n        comment: tab\n      });\n      console.log('comment: ', this.state.comment);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, this.state.comment.length > 0 ? this.state.comment.sort((a, b) => {\n      return b._id - a._id;\n    }).map(article => {\n      console.log('article-image: ', article.image); //const url = \"http://localhost:8080/article/\" + article.image\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        class: \"card\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        class: \"card-img-top\",\n        src: \"http://localhost:8080/profil/\" + article.image,\n        alt: article.titre,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        class: \"card-body\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        class: \"card-title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, article.titre), React.createElement(\"p\", {\n        class: \"card-text\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, article.description), React.createElement(\"a\", {\n        href: \"#\",\n        class: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, article.prix))), React.createElement(\"br\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      }));\n    }) : '');\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    listeArticle: state\n  };\n};\n\nexport default connect(mapStateToProps)(Article);","map":{"version":3,"sources":["/home/dev/Bureau/PrÃ©-testSIMPLON/pre-test_front/src/components/article.jsx"],"names":["React","connect","axios","Article","Component","constructor","props","state","reponse","comment","componentDidMount","tab","console","log","get","then","res","data","i","length","localStorage","getItem","utilisateur","push","setState","render","sort","a","b","_id","map","article","image","titre","description","prix","mapStateToProps","listeArticle"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux'\nimport axios from 'axios'\n\nclass Article extends React.Component {\n\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            reponse: \"\",\n            comment: []\n        };\n    }\n\n\n    /*    callAPI() {\n           fetch(\"http://localhost:8080/profil\")\n               .then(res => res.json())\n               .then(res =>{  \n                   console.log(\"res\",res);\n                   this.setState({comment: res})\n                   console.log('comment: ', this.state.comment);\n              \n              for(let i=0;i<res.length;i++){\n                       if(res[i]._id===this.props.match.params.id){\n                           console.log(res[i]);\n                           this.setState({ reponse: res[i],\n                               comment:res[i].comment\n                            })\n                           console.log(\"state \",this.state.comment);\n                       }\n                   }\n                   \n                  });\n               \n       }\n   */\n\n    componentDidMount() {\n        var tab = []\n        console.log(this.props)\n        axios.get(\"http://localhost:8080/profil\").then(res => {\n            console.log('res comment: ', res.data)\n            for(let i=0; i<=res.data.length; i++){\n                if (localStorage.getItem('id')==res.data.utilisateur){\n                    tab.push(res.data[i])\n                }\n            }\n            this.setState({ comment: tab })\n            console.log('comment: ', this.state.comment)\n        })\n    }\n\n    render() {\n        return (\n            <div>\n                {this.state.comment.length > 0 ? (this.state.comment.sort((a,b) => {return b._id - a._id}).map(article => {\n                    console.log('article-image: ', article.image);\n                    //const url = \"http://localhost:8080/article/\" + article.image\n                    return (\n                        <div>\n                            <div class=\"card\">\n                                <img class=\"card-img-top\" src={\"http://localhost:8080/profil/\" + article.image} alt={article.titre} />\n                                <div class=\"card-body\">\n                                    <h5 class=\"card-title\">{article.titre}</h5>\n                                    <p class=\"card-text\">{article.description}</p>\n                                    <a href=\"#\" class=\"btn btn-primary\">{article.prix}</a>\n                                </div>\n                            </div>\n                            <br/>\n                        </div>\n                    )\n                }\n                )) : ''}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        listeArticle: state\n    }\n}\n\nexport default connect(mapStateToProps)(Article)"]},"metadata":{},"sourceType":"module"}